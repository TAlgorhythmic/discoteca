---
import Layout from "./layouts/layout_global.astro";
import {getDiscotecas} from "./../../public/api.js";
import {getResenasRecientes} from "./../../public/api.js";
import Review from "./../../src/scripts/review.js";

var discotecas = await getDiscotecas();
//var resenas_recientes = await getResenasRecientes();
var resenas_recientes = [new Review(1, "Esto es un comentario!", 1, 1, 0.5)];


---

<Layout>
    <h3>Hola de nuevo!</h3>
    <div class="two-divs-container">
        <div class="resenas-recientes">
            <h4>Rese&ntilde;as recientes</h4>
            <div class="comment-container">
                {resenas_recientes.map((review) => (
                  <div class="comment">
                    <h5>{review.discoId}</h5>
                    <p>{review.comment}</p>
                  </div>
                ))}
            </div>
        </div>

        <div class="discotecas-trending">
            <h4>Discotecas trending</h4>
            <ul>
                {discotecas.map((discoteca) => (
                  <li>{discoteca.name}</li>
                ))}
            </ul>
        </div>
    </div>
</Layout>
